# run only once per project
enable-migrations -ContextTypeName ClientContext -MigrationsDirectory Migrations\ClientMigrations

# ran on every database change
add-migration -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration "ClientInitialCreate"
add-migration -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration "allowNullable"
add-migration -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration "fixBugInSmarts"
add-migration -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration "addConstraintsToClient"
add-migration -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration "allowNullableDatesInClient"


update-database -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration

# to revert change
Update-Database -TargetMigration 201503060638244_ClientInitialCreate -ConfigurationTypeName GoodSamaritan.Migrations.ClientMigrations.Configuration

# --------------
# ApplicationDbContext

enable-migrations -ContextTypeName ApplicationDbContext -MigrationsDirectory Migrations\IdentityMigration

add-migration -ConfigurationTypeName GoodSamaritan.Migrations.IdentityMigration.Configuration "InitialCreate"

update-database -ConfigurationTypeName GoodSamaritan.Migrations.IdentityMigration.Configuration